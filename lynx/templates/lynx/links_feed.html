{% extends 'lynx/base.html' %}

{% block title %}{{ title }} | Lynx{% endblock %}

{% block head %}
<style>
  img {
    object-fit: cover;
    width: 100px;
    height: 100px;
  }
  h5 {
    margin-bottom: 0;
  }
  .preview-img {
    width: 100px;
    height: 100px;
    padding: 0;
  }
  /* Want list view to be more dense than default styles */
  article {
    padding: 0 1rem;
    margin: 0;
  }
</style>
{% endblock %}

{% block content %}
  <h1>{{ title }}</h1>
  <details>
    <summary>Filters</summary>
    <div class="grid">
      <a href="{% url 'lynx:links_feed_read' %}" role="button" class="secondary {% if selected_filter != 'read'%}outline{% endif %}">Read</a>
      <a href="{% url 'lynx:links_feed_unread' %}" role="button" class="secondary {% if selected_filter != 'unread'%}outline{% endif %}">Unread</a>
      <a href="{% url 'lynx:links_feed_all' %}" role="button" class="secondary {% if selected_filter != 'all'%}outline{% endif %}">All</a>
    </div>
  </details>
  {% if links_list %}
  {% for link in links_list %}
  <article>
    <table>
      <tr>
        <td class="preview-img">
          <img src="{{ link.header_image_url }}" alt="{{ link.title }}" />
        </td>
        <td>
          <div>
            <h5><a href="{% url 'lynx:link_viewer' link.id %}">{{ link.title }}</a></h5>
            <small>
            {{ link.article_date }} Â· {{ link.hostname }}
            </small>
            <br /><br />
            {{ link.excerpt }}
          </div>
        </td>
      </tr>
    </table>
  </article>
  {% endfor %}
  {% else %}
  <p>No links are saved</p>
  {% endif %}
{% endblock %}
